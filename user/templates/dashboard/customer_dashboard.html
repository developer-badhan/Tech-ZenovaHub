{% extends "base.html" %}
{% load static %}
{% block title %}Customer Dashboard - Tech-ZenovaHub{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row g-3">
    <!-- Sidebar -->
    {% if request.session.is_authenticated %}
    <aside class="col-12 col-md-4 col-lg-3">
      <div class="tzh-sidebar">
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a class="nav-link" href="{% url 'user_profile' user_id=request.session.user_id %}"><i class="fas fa-user me-2"></i>Profile</a></li>
          {% if default_address %}
          <li class="nav-item mb-2"><a class="nav-link" href="{% url 'user_address_update' user_id=request.session.user_id address_id=default_address.id %}"><i class="fas fa-map-marker-alt me-2"></i>Update Address</a></li>
          {% endif %}
          <li class="nav-item mb-2"><a class="nav-link text-danger" href="{% url 'user_delete' user_id=request.session.user_id %}"><i class="fas fa-user-times me-2"></i>Delete Account</a></li>
          <li class="nav-item mb-2"><a class="nav-link" href="{% url 'user_logout' %}"><i class="fas fa-sign-out-alt me-2"></i>Sign Out</a></li>
        </ul>
      </div>
    </aside>
    {% endif %}

    <!-- Main content -->
    <section class="col-12 {% if request.session.is_authenticated %}col-md-8 col-lg-9{% endif %}">
      <div class="tzh-card">
        <div class="mb-3">
          <h4 class="mb-0">Welcome, {{ request.session.user_role|title }}</h4>
          <p class="tzh-muted">Manage your profile, addresses and orders from here.</p>
        </div>

        <!-- Placeholder content -->
        <div class="row">
          <div class="col-12 col-md-6 mb-3">
            <div class="p-3 tzh-card">
              <h6>Profile</h6>
              <p class="tzh-muted small">View and update your profile details.</p>
              <a href="{% url 'user_profile' user_id=request.session.user_id %}" class="btn btn-sm btn-outline-primary">Manage</a>
            </div>
          </div>
          <div class="col-12 col-md-6 mb-3">
            <div class="p-3 tzh-card">
              <h6>Addresses</h6>
              <p class="tzh-muted small">Add or edit your saved addresses.</p>
              <a href="{% url 'user_address_update' user_id=request.session.user_id address_id=default_address.id %}" class="btn btn-sm btn-outline-primary">Manage</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
{% endblock %}
