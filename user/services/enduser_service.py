# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()
# from models import User
# from django.core.exceptions import PermissionDenied

# def create_user_from_form(form):
#     from constants import Role
#     user = form.save(commit=False)
#     user.role = Role.ENDUSER
#     user.save()
#     return user

# def update_user_from_form(user, form):
#     if user.role != user.role:
#         raise PermissionDenied("Cannot change role.")
#     return form.save()

# def delete_user(user, requesting_user):
#     if user != requesting_user:
#         raise PermissionDenied("You can only delete your own account.")
#     user.delete()