{% extends 'main.html' %}

{% block content %}
  <h1>Create New Order</h1>
  
  <form method="post">
    {% csrf_token %}
    <div id="order-items">
      <div class="order-item">
        <label for="product_id_1">Product ID:</label>
        <input type="text" id="product_id_1" name="product_id_1" required>
        <label for="quantity_1">Quantity:</label>
        <input type="number" id="quantity_1" name="quantity_1" required>
      </div>
    </div>
    <button type="button" id="add-item-btn">Add Another Item</button>

    <div>
      <label for="coupon_code">Coupon Code (optional):</label>
      <input type="text" id="coupon_code" name="coupon_code">
    </div>

    <button type="submit">Place Order</button>
  </form>

  <script>
    document.getElementById('add-item-btn').addEventListener('click', function() {
      let itemCount = document.querySelectorAll('.order-item').length + 1;
      const newItem = `
        <div class="order-item">
          <label for="product_id_${itemCount}">Product ID:</label>
          <input type="text" id="product_id_${itemCount}" name="product_id_${itemCount}" required>
          <label for="quantity_${itemCount}">Quantity:</label>
          <input type="number" id="quantity_${itemCount}" name="quantity_${itemCount}" required>
        </div>
      `;
      document.getElementById('order-items').insertAdjacentHTML('beforeend', newItem);
    });
  </script>
{% endblock %}
