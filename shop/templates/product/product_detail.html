{% extends 'main.html' %}
{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-6 mb-3">
        {% if product.image %}
        <img src="{{ product.image.url }}" class="img-fluid rounded shadow" alt="{{ product.name }}">
        {% else %}
        <img src="https:/v/ia.placeholder.com/600x400" class="img-fluid rounded shadow" alt="No image">
        {% endif %}
    </div>

    <div class="col-md-6">
        <h2>{{ product.name }}</h2>
        <p class="text-muted">Category: {{ product.category.name }}</p>
        <p>{{ product.description }}</p>
        <h4 class="text-success">â‚¹{{ product.price }}</h4>
        <p>Stock: {{ product.stock }}</p>

        <!-- Add to Cart -->
        <form method="post" action="{% url 'cart_add' %}" class="d-inline">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <input type="hidden" name="quantity" value="1">
            <button type="submit" class="btn btn-sm btn-outline-success me-2">Add to Cart</button>
        </form>

        <!-- Add to Wishlist -->
        <form method="post" action="{% url 'wishlist_add' product.id %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-primary">Add to wishlist</button>
        </form>
    </div>
</div>
<hr>

<!-- Reviews Section -->
<div class="mt-4">
    <h4>Reviews</h4>
    <form method="post" action="{% url 'review_create' product.id %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="rating" class="form-label">Rating</label>
            <select id="rating" name="rating" class="form-select">
                <option value="5">5 - Excellent</option>
                <option value="4">4 - Good</option>
                <option value="3">3 - Average</option>
                <option value="2">2 - Poor</option>
                <option value="1">1 - Terrible</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="comment" class="form-label">Comment</label>
            <textarea id="comment" name="comment" class="form-control" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit Review</button>
    </form>
</div> 
{% endblock %}
